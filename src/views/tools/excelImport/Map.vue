<template>
  <BaseChart :options="mapOptions" type="map" :mapData="china"></BaseChart>
</template>

<script setup>
import { defineComponent, onMounted, reactive, ref } from 'vue'
import { ElMessage, genFileId } from 'element-plus'
const { $Api } = getCurrentInstance().appContext.config.globalProperties
import * as echarts from 'echarts'
import china from '@/assets/map/china.json'
// import china from '@/assets/map/china.json'
// import Map from './Map.vue'

// Symbol - 旗帜symbol
const symbolFlagPath =
  'path://M190.174463 1024a146.284335 146.284335 0 1 1 0-292.56867 146.284335 146.284335 0 0 1 0 292.56867zM253.427809 60.893195c0 22.820356-10.064362 40.315963-30.427141 52.369792v602.837745c0 4.095961-1.550614 7.694556-4.534815 10.678756a14.716204 14.716204 0 0 1-10.678756 4.534814H177.301441a14.716204 14.716204 0 0 1-10.708013-4.534814 14.716204 14.716204 0 0 1-4.505557-10.678756V113.23373C141.754348 101.209158 131.660729 83.684294 131.660729 60.863938c0-16.851955 5.851373-31.158563 17.788175-43.095365A58.542991 58.542991 0 0 1 192.544269 0.009655c16.881212 0 31.158563 5.851373 43.095365 17.788175 11.936802 11.936802 17.788175 26.24341 17.788175 43.095365z m701.082304 30.544169v363.399545c0 7.899354-1.96021 13.984782-5.851373 18.314799-4.008191 4.330016-10.18139 8.630776-18.841422 13.16559-68.402555 36.805139-126.828518 55.236965-175.775257 55.236965-19.309532 0-38.970147-3.510824-58.806303-10.503215-19.89467-6.992391-37.06845-14.599177-51.667627-22.820356-14.599177-8.250436-32.913975-15.857222-55.00291-22.820357a222.820299 222.820299 0 0 0-67.875931-10.532472c-61.029825 0-134.669359 23.171439-220.94786 69.543573a33.352828 33.352828 0 0 1-15.740195 4.330016 29.022812 29.022812 0 0 1-21.416026-9.069628 29.549436 29.549436 0 0 1-9.040372-21.357513V164.755073c0-10.093619 4.944411-18.929193 14.716204-26.214153 6.670566-4.447044 19.221762-11.234637 37.624331-20.479807 74.89758-38.033927 141.749521-57.197175 200.58508-57.197175 33.937966 0 65.710923 4.622585 95.231102 13.779985 29.549436 9.274427 64.306594 23.142182 104.300731 41.866576 12.053829 5.968401 26.038612 9.069629 41.866577 9.069629 17.173781 0 35.810405-3.306026 55.968386-9.976592 20.157981-6.699823 37.624331-14.10181 52.369792-22.322989 14.686947-8.250436 28.67173-15.740194 41.83732-22.32299 13.16559-6.699823 21.796366-9.976592 25.921584-9.976591 8.22118 0 15.418369 2.9842 21.38677 9.069628 6.173199 5.939144 9.157399 13.048563 9.157399 21.357513z'

// Symbol - 定位点symbol
const symbolLocalPath =
  'path://M511.983627 1022.005576c-177.413666 0-356.430852-48.131207-356.430852-155.653059 0-83.935668 122.605386-135.997394 236.549507-148.835793l6.237051-0.718361L240.863766 464.627063c-5.077645-9.096169-9.868765-18.74697-14.093996-28.512381l-4.1536-8.400321-0.652869-3.360538c-13.843286-35.848463-20.852934-73.371054-20.852934-111.49842 0-171.404812 139.484821-310.86098 310.917262-310.86098 171.427324 0 310.887586 139.456169 310.887586 310.86098 0 38.164205-7.024997 75.670423-20.906146 111.49842l-2.082428 5.38873 0.194428 0-1.603521 3.300162c-4.535293 10.694573-9.552563 20.965497-15.000646 30.699186L511.853667 914.597311l-64.345494-105.092523-2.430352 0.211824c-104.22783 8.933463-170.69873 37.702694-188.130751 53.720505l-3.148713 2.898003 3.148713 2.914376c22.738887 21.12411 110.175285 54.535057 248.78825 55.520501l12.375865 0.020466-0.016373-0.020466c138.357138-0.969071 225.969545-34.304294 248.898767-55.385425l3.229554-2.967588-3.284813-2.898003c-12.722766-11.271718-59.075467-33.511231-130.370233-46.566572l54.754045-87.675852c114.248044 25.745361 177.125093 74.360592 177.125093 137.074935 0 107.527992-179.017186 155.653059-356.453365 155.653059L511.983627 1022.004553zM511.977487 145.159054c-73.081459 0-132.527362 59.488883-132.527362 132.598994 0 73.05076 59.440787 132.48029 132.527362 132.48029 73.132624 0 132.62253-59.429531 132.62253-132.48029C644.600017 204.647937 585.110111 145.159054 511.977487 145.159054L511.977487 145.159054zM511.977487 145.159054'

const mapOptions = reactive({
  // title: {
  //   text: '中国',
  //   subtext: 'China map',
  //   left: 'right'
  // },
  geo: {
    // 设置为一张完整经纬度的世界地图
    map: 'china',
    show: true,
    roam: false, // 缩放 及 平移
    zoom: 1, // 缩放比例
    // 区域色及区域边框色
    itemStyle: {
      areaColor: '#121f45',
      borderColor: '#3969d1'
    },
    // 区域名称
    label: {
      show: true,
      color: '#c6e2ff'
    },
    select: {
      disabled: true,
      itemStyle: {
        areaColor: '#fff'
      }
    },
    regions: [
      // 隐藏区域
      // {
      //   name: '南海诸岛',
      //   value: 1000,
      //   itemStyle: {
      //     normal: {
      //       opacity: 0,
      //       label: {
      //         show: false
      //       }
      //     }
      //   }
      // }
    ]
  },
  series: [
    {
      name: '节点分布',
      type: 'map',
      geoIndex: 0,
      markPoint: {
        data: []
      }
    }
  ]
  // tooltip: {
  //   trigger: 'item',
  //   formatter: ({ data }) => {
  //     if (data && data.name) {
  //       return `${data ? data.name : '-'}<br/>
  //       仓库名称：${data ? data.value[0] : '-'}<br/>
  //       库容总量(m³)：${data ? data.value[1] : '-'}<br/>
  //       库容余量(m³)：${data ? data.value[2] : '-'}<br/>
  //       良品率：${data ? data.value[3] : '-'}%`
  //     }
  //   }
  // }
})

defineExpose({
  mapOptions
})
</script>
